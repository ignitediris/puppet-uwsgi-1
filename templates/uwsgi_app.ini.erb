#
# This file is managed by puppet class 'uwsgi::app'
#
# uwsgi app config for '<%= @name %>'
#
[uwsgi]
<%- if !scope.lookupvar('uwsgi::tyrant') -%>
uid = <%= @app_user %>
gid = <%= @app_group %>
<% end -%>
<%- if @application_options -%>
<%- @application_options.each do |key, value| -%>
    <%- if value.is_a? Array -%>
       <%- value.each do |v| -%>
<%= key %> = <%= v %>
       <%- end -%>
    <%- else -%>
      <%- if key != 'uid' and key != 'gid' -%>
<%= key %> = <%= value %>
      <%- end -%>
    <%- end -%>
<% end -%>
<% end -%>
<%- if @environment_variables -%>
<%- @environment_variables.each do |key, value| -%>
env = <%= key %>=<%= value %>
<%- end -%>
<%- end -%>
<%- if @environment_file -%>
for-readline = <%= @environment_file %>
  env = %(_)
end-for =
<%- end -%>
